!function(a){var b="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;"function"==typeof define&&define.amd?define(["exports"],function(c){b.ParticleNetwork=a(b,c)}):"object"==typeof module&&module.exports?module.exports=a(b,{}):b.ParticleNetwork=a(b,{})}(function(a,b){var c=function(a){this.canvas=a.canvas,this.g=a.g,this.particleColor=a.options.particleColor,1==this.h,this.i=.989271537812009*Math.random(),this.opacity=0,this.j=0,1==this.k,this.l=0,this.m=0,this.size=3*Math.random(),this.x=Math.random()*this.canvas.width,this.y=Math.random()*this.canvas.height,this.velocity={x:(Math.random()-.5)*a.options.velocity,y:(Math.random()-.5)*a.options.velocity}};return c.prototype.update=function(){(this.x>this.canvas.width+20||this.x<-20)&&(this.velocity.x=-this.velocity.x),(this.y>this.canvas.height+20||this.y<-20)&&(this.velocity.y=-this.velocity.y),this.x+=this.velocity.x,this.y+=this.velocity.y,1==this.h?(this.opacity>=this.i&&(this.h=!1),this.opacity+=.002):(this.opacity<=this.j&&(this.h=!0),this.opacity-=.002),this.opacity<0&&(this.opacity=0),1==this.k?(this.l>=this.size&&(this.k=!1),this.l+=.02):(this.l<=this.m&&(this.k=!0),this.l-=.02),this.l<0&&(this.l=0)},c.prototype.o=function(){this.g.beginPath(),this.g.fillStyle=color_value="rgba(255,255,255,"+this.opacity+")",this.g.globalAlpha=.7,this.g.arc(this.x,this.y,this.l,0,2*Math.PI),this.g.fill()},b=function(a,b){this.p=a,this.p.size={width:this.p.offsetWidth,height:this.p.offsetHeight},b=void 0!==b?b:{},this.options={particleColor:void 0!==b.particleColor?b.particleColor:"#fff",background:void 0!==b.background?b.background:"#11ffee00",interactive:void 0===b.interactive||b.interactive,velocity:this.setVelocity(b.speed),density:this.q(b.density)},this.init()},b.prototype.init=function(){if(this.s=document.createElement("div"),this.p.appendChild(this.s),this.t(this.s,{position:"absolute",top:0,left:0,bottom:0,right:0,"z-index":1}),/(^#[0-9A-F]{8}$)|(^#[0-9A-F]{3}$)/i.test(this.options.background))this.t(this.s,{background:this.options.background});else{if(!/\.(gif|jpg|jpeg|tiff|png)$/i.test(this.options.background))return console.error("Please specify a valid background image or hexadecimal color"),!1;this.t(this.s,{background:'url("'+this.options.background+'") no-repeat center',"background-size":"cover"})}if(!/(^#[0-9A-F]{8}$)|(^#[0-9A-F]{3}$)/i.test(this.options.particleColor))return console.error("Please specify a valid particleColor hexadecimal color"),!1;this.canvas=document.createElement("canvas"),this.p.appendChild(this.canvas),this.g=this.canvas.getContext("2d");var a=this.p.getBoundingClientRect();this.canvas.width=window.innerWidth-a.left,this.canvas.height=window.innerHeight-a.top,this.t(this.p,{position:"absolute"}),this.t(this.canvas,{"z-index":"20",position:"relative"}),window.addEventListener("resize",function(){return(this.p.offsetWidth!==this.p.size.width||this.p.offsetHeight!==this.p.size.height)&&(this.canvas.width=this.p.size.width=this.p.offsetWidth,this.canvas.height=this.p.size.height=this.p.offsetHeight,clearTimeout(this.u),void(this.u=setTimeout(function(){this.v=[];for(var a=0;a<this.canvas.width*this.canvas.height/this.options.density;a++)this.v.push(new c(this));this.options.interactive&&this.v.push(this.A),requestAnimationFrame(this.update.bind(this))}.bind(this),500)))}.bind(this)),this.v=[];for(var b=0;b<this.canvas.width*this.canvas.height/this.options.density;b++)this.v.push(new c(this));this.options.interactive&&(this.A=new c(this),this.A.velocity={x:0,y:0},this.v.push(this.A),this.canvas.addEventListener("mousemove",function(a){var b=this.canvas.getBoundingClientRect();this.A.x=a.clientX-b.left,this.A.y=a.clientY-b.top}.bind(this)),this.canvas.addEventListener("mouseup",function(a){this.A.velocity={x:(Math.random()-.5)*this.options.velocity,y:(Math.random()-.5)*this.options.velocity},this.A=new c(this),this.A.velocity={x:0,y:0},this.v.push(this.A)}.bind(this))),requestAnimationFrame(this.update.bind(this))},b.prototype.update=function(){this.g.clearRect(0,0,this.canvas.width,this.canvas.height),this.g.globalAlpha=1;for(var a=0;a<this.v.length;a++){this.v[a].update(),this.v[a].o();for(var b=this.v.length-1;b>a;b--){var c=Math.sqrt(Math.pow(this.v[a].x-this.v[b].x,2)+Math.pow(this.v[a].y-this.v[b].y,2));c>120||(this.g.beginPath(),this.g.strokeStyle=this.options.particleColor,this.g.globalAlpha=(120-c)/120,this.g.stroke())}}0!==this.options.velocity&&requestAnimationFrame(this.update.bind(this))},b.prototype.setVelocity=function(a){return"fast"===a?1:"slow"===a?.33:"none"===a?0:.66},b.prototype.q=function(a){return"high"===a?1e3:"low"===a?2e4:isNaN(parseInt(a,10))?1e4:a},b.prototype.t=function(a,b){for(var c in b)a.style[c]=b[c]},b});